САМЫЕ ВАЖНЫЕ ПУНКТЫ:

1) Порядок команд в CMakeLists.txt важен!!! Если нарушите получите ошибку линковщика

2) Перед запуском Юнит тестов или основного кода ( проектов где есть target_link_libraries или include_directories ) обязательно соберите библиотеку ( some_lib проекта some_proj )

3) обязательно читайте текст который выдает CMAKE при сборке!